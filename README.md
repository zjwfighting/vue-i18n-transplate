# vue-i18n-translate

[![NPM Version](https://img.shields.io/npm/v/vue-i18n-translate.svg)](https://www.npmjs.com/package/vue-i18n-translate)
[![License](https://img.shields.io/npm/l/vue-i18n-translate.svg)](https://www.npmjs.com/package/vue-i18n-translate)
[![Downloads](https://img.shields.io/npm/dm/vue-i18n-translate.svg)](https://www.npmjs.com/package/vue-i18n-translate)

ä¸€ä¸ªå¼ºå¤§çš„ Vue.js å›½é™…åŒ–ï¼ˆi18nï¼‰è¾…åŠ©å·¥å…·ï¼Œæ—¨åœ¨è‡ªåŠ¨åŒ–å‰ç«¯é¡¹ç›®ä¸­ç¹ççš„æ–‡æœ¬æå–å’Œç¿»è¯‘æµç¨‹ã€‚å®ƒèƒ½ä¸€é”®æ‰«æé¡¹ç›®æ–‡ä»¶ï¼Œæå–ä¸­æ–‡æ–‡æ¡ˆï¼Œè°ƒç”¨APIè¿›è¡Œç¿»è¯‘ï¼Œç”Ÿæˆæ ‡å‡†è¯­è¨€åŒ…ï¼Œå¹¶è‡ªåŠ¨æ›¿æ¢æºä»£ç ä¸­çš„ç¡¬ç¼–ç æ–‡æœ¬ä¸º `i18n` å‡½æ•°è°ƒç”¨ã€‚

## è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ

åœ¨å¯¹ä¸€ä¸ªå·²æœ‰çš„ Vue é¡¹ç›®è¿›è¡Œå›½é™…åŒ–æ”¹é€ æ—¶ï¼Œå¼€å‘è€…é€šå¸¸é¢ä¸´ä»¥ä¸‹ç—›ç‚¹ï¼š

*   **æ‰‹åŠ¨æå–**: éœ€è¦é€ä¸ªæ–‡ä»¶ã€é€è¡Œä»£ç åœ°å¯»æ‰¾å¹¶å¤åˆ¶ä¸­æ–‡æ–‡æ¡ˆã€‚
*   **æ‰‹åŠ¨æ›¿æ¢**: å°†æå–å‡ºçš„æ–‡æ¡ˆæ›¿æ¢ä¸º `$t('key')` çš„å½¢å¼ï¼Œå¹¶ä¸ºæ¯ä¸ªæ–‡æ¡ˆæ‰‹åŠ¨åˆ›å»ºå”¯ä¸€çš„ `key`ã€‚
*   **æ‰‹åŠ¨ç¿»è¯‘**: å°†æ‰€æœ‰æ–‡æ¡ˆæ•´ç†åï¼Œäº¤ç»™ç¿»è¯‘äººå‘˜æˆ–ä½¿ç”¨ç¿»è¯‘å·¥å…·ï¼Œå†å°†ç»“æœæ•´ç†æˆè¯­è¨€åŒ…æ ¼å¼ã€‚
*   **æ•ˆç‡ä½ä¸‹ä¸”æ˜“å‡ºé”™**: æ•´ä¸ªè¿‡ç¨‹è€—æ—¶è€—åŠ›ï¼Œå®¹æ˜“é—æ¼æˆ–å‡ºé”™ï¼Œä¸”éš¾ä»¥ç»´æŠ¤ã€‚

`vue-i18n-translate` å°†ä¸Šè¿°æµç¨‹å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œè®©ä½ ä¸“æ³¨äºä¸šåŠ¡å¼€å‘ï¼Œè€Œä¸æ˜¯é‡å¤çš„ä½“åŠ›åŠ³åŠ¨ã€‚

## æ ¸å¿ƒåŠŸèƒ½

*   **âœ… è‡ªåŠ¨æ‰«æ**: é€’å½’æ‰«ææŒ‡å®šç›®å½•ä¸‹çš„ `.vue`, `.js`, `.ts` æ–‡ä»¶ã€‚
*   **âœ… æ™ºèƒ½æå–**: å‡†ç¡®è¯†åˆ«å¹¶æå– HTML æ¨¡æ¿ã€JavaScript ä»£ç ä¸­çš„ä¸­æ–‡å­—ç¬¦ä¸²ã€‚
*   **âœ… åœ¨åœ°æ›¿æ¢**: å°†æå–çš„ä¸­æ–‡æ–‡æœ¬è‡ªåŠ¨æ›¿æ¢ä¸º `vue-i18n` è·¯å¾„è°ƒç”¨ (ä¾‹å¦‚ `<span>ä½ å¥½</span>` -> `<span>{{ $t('module.ni_hao') }}</span>`)ã€‚
*   **âœ… è‡ªåŠ¨ç¿»è¯‘**: é›†æˆ [å°ç‰›ç¿»è¯‘ API](https://www.niutrans.com/)ï¼Œè‡ªåŠ¨å°†æå–çš„æ–‡æœ¬ç¿»è¯‘æˆè‹±æ–‡æˆ–å…¶ä»–ç›®æ ‡è¯­è¨€ã€‚
*   **âœ… è¯­è¨€åŒ…ç”Ÿæˆ**: å°†ä¸­è‹±æ–‡ï¼ˆæˆ–å…¶ä»–è¯­è¨€ï¼‰çš„é”®å€¼å¯¹æ•´ç†æˆæ ‡å‡†çš„ JavaScript æ¨¡å—ï¼Œæ–¹ä¾¿åœ¨é¡¹ç›®ä¸­ç›´æ¥å¼•å…¥ã€‚
*   **âœ… é«˜åº¦å¯é…ç½®**: æ”¯æŒè‡ªå®šä¹‰ i18n è·¯å¾„å‰ç¼€ã€è¾“å‡ºæ–‡ä»¶è·¯å¾„ç­‰ï¼Œä»¥é€‚åº”ä¸åŒé¡¹ç›®çš„è§„èŒƒã€‚

## å·¥ä½œæµç¨‹
![alt text](https://youke1.picui.cn/s1/2025/09/01/68b56caf2c2a9.png)
1.  **æ‰«ææ–‡ä»¶**: å·¥å…·éå†ä½ æŒ‡å®šçš„ç›®å½•ï¼ˆå¦‚ `src`ï¼‰ã€‚
2.  **æå–ä¸­æ–‡**: ä»æ–‡ä»¶å†…å®¹ä¸­åŒ¹é…å¹¶æŠ½ç¦»å‡ºæ‰€æœ‰ä¸­æ–‡å­—ç¬¦ä¸²ã€‚
3.  **ç”Ÿæˆ Key**: ä¸ºæ¯ä¸ªç‹¬ç‰¹çš„ä¸­æ–‡å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ã€è¯­ä¹‰åŒ–çš„ keyï¼ˆé€šå¸¸åŸºäºæ‹¼éŸ³ï¼‰ã€‚
4.  **è°ƒç”¨ç¿»è¯‘**: å°†å»é‡åçš„ä¸­æ–‡å­—ç¬¦ä¸²åˆ—è¡¨å‘é€åˆ°ç¿»è¯‘ APIã€‚
5.  **æ›¿æ¢ä»£ç **: å°†æºä»£ç ä¸­çš„ä¸­æ–‡å­—ç¬¦ä¸²æ›¿æ¢ä¸ºå¯¹åº”çš„ `$t('module.key')` è°ƒç”¨ã€‚
6.  **ç”Ÿæˆè¯­è¨€åŒ…**: åˆ›å»ºæˆ–æ›´æ–°ä¸€ä¸ª JS æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå¯¼å‡ºå¯¹è±¡ï¼Œå†…å« `zh` å’Œ `en`ï¼ˆæˆ–å…¶ä»–è¯­è¨€ï¼‰çš„ç¿»è¯‘é”®å€¼å¯¹ã€‚

## å®‰è£…

```bash
npm install vue-i18n-translate 
# æˆ–è€…
yarn add vue-i18n-translate
```

## ä½¿ç”¨æ–¹æ³•

æ¨èåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªè„šæœ¬æ–‡ä»¶æ¥æ‰§è¡Œæ­¤å·¥å…·ï¼Œä¾‹å¦‚ `scripts/process.js`ã€‚

**1. åˆ›å»ºè„šæœ¬æ–‡ä»¶**

åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `scripts/process.js` æ–‡ä»¶ï¼š

```javascript
// scripts/translate.js

// 1. å¼•å…¥æ’ä»¶
const I18nTranslate = require('vue-i18n-translate');

// 2. é…ç½®é€‰é¡¹
const options = {
  // [å¿…å¡«] éœ€è¦æ‰«æçš„ç›®å½•è·¯å¾„
  dir: './src', 

  // [å¿…å¡«] å°ç‰›ç¿»è¯‘çš„ apikeyã€‚è¯·å‰å¾€ https://www.niutrans.com/ ç”³è¯·
  // å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥ä¿æŠ¤ä½ çš„ key: process.env.NIUTRANS_API_KEY
  apikey: "ä½ çš„å°ç‰›ç¿»è¯‘API_KEY",

  output

  // [å¯é€‰] æ¨¡å—åç§°ï¼Œå°†ä½œä¸ºç”Ÿæˆçš„æ–‡ä»¶åå’Œ i18n key çš„ç¬¬ä¸€çº§è·¯å¾„
  // é»˜è®¤ä¸º 'module'
  // ä¾‹å¦‚ï¼Œè®¾ç½®ä¸º 'user'ï¼Œåˆ™ key ä¸º 'user.some_text'ï¼Œç”Ÿæˆæ–‡ä»¶ä¸º 'user.js'
  module: 'common',
};

// 3. å¼€å§‹æ‰§è¡Œ
console.log('ğŸš€ å¼€å§‹æ‰§è¡Œå›½é™…åŒ–è½¬æ¢...');
I18nTranslate.process(options);
console.log('âœ… è½¬æ¢å®Œæˆï¼');

```

**2. è¿è¡Œè„šæœ¬**

åœ¨ `package.json` çš„ `scripts` ä¸­æ·»åŠ ä¸€ä¸ªå‘½ä»¤ï¼š

```json
"scripts": {
  "translate": "node scripts/translate.js"
}
```

ç„¶åæ‰§è¡Œï¼š

```bash
npm run translate
```

## ç¤ºä¾‹ï¼šè½¬æ¢å‰åå¯¹æ¯”

å‡è®¾ä½ æœ‰ä»¥ä¸‹ Vue ç»„ä»¶ `src/components/HelloWorld.vue`:

**è½¬æ¢å‰:**

```vue
<template>
  <div class="hello">
    <h1>{{ greeting }}</h1>
    <p>è¿™æ˜¯ä¸€ä¸ªå›½é™…åŒ–ç¤ºä¾‹é¡¹ç›®ã€‚</p>
    <button @click="changeMessage">æ”¹å˜æ¶ˆæ¯</button>
  </div>
</template>

<script>
export default {
  name: 'HelloWorld',
  data() {
    return {
      greeting: 'ä½ å¥½ï¼Œä¸–ç•Œï¼'
    }
  },
  methods: {
    changeMessage() {
      alert('æ“ä½œæˆåŠŸ');
    }
  }
}
</script>
```

æ‰§è¡Œ `npm run translate` åï¼ˆå‡è®¾ `module` é…ç½®ä¸º `hello`ï¼‰ï¼š

**è½¬æ¢å `src/components/HelloWorld.vue`:**

```vue
<template>
  <div class="hello">
    <h1>{{ $t('hello.ni_hao_shi_jie') }}</h1>
    <p>{{ $t('hello.zhe_shi_yi_ge_guo_ji_hua_shi_li_xiang_mu') }}</p>
    <button @click="changeMessage">{{ $t('hello.gai_bian_xiao_xi') }}</button>
  </div>
</template>

<script>
export default {
  name: 'HelloWorld',
  data() {
    return {
      greeting: this.$t('hello.ni_hao_shi_jie')
    }
  },
  methods: {
    changeMessage() {
      alert(this.$t('hello.cao_zuo_cheng_gong'));
    }
  }
}
</script>
```

**åŒæ—¶ï¼Œä¼šåœ¨ `/` ç›®å½•ä¸‹ç”Ÿæˆ `hello.js` æ–‡ä»¶:**

```javascript
export default {
  zh: {
    'HelloWord': 'ä½ å¥½ï¼Œä¸–ç•Œï¼',
    'zhe_shi_yi_ge_guo_ji_hua_shi_li_xiang_mu': 'è¿™æ˜¯ä¸€ä¸ªå›½é™…åŒ–ç¤ºä¾‹é¡¹ç›®ã€‚',
    'gai_bian_xiao_xi': 'æ”¹å˜æ¶ˆæ¯',
    'cao_zuo_cheng_gong': 'æ“ä½œæˆåŠŸ'
  },
  en: {
    'ni_hao_shi_jie': 'Hello, world!',
    'zhe_shi_yi_ge_guo_ji_hua_shi_li_xiang_mu': 'This is an internationalization sample project.',
    'gai_bian_xiao_xi': 'Change Message',
    'cao_zuo_cheng_gong': 'Operation successful'
  }
};
```
## æ³¨æ„äº‹é¡¹

*   **ä»£ç å¤‡ä»½**: åœ¨æ‰§è¡Œæ­¤è„šæœ¬å‰ï¼Œå¼ºçƒˆå»ºè®®ä½ ä½¿ç”¨ Git ç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·æäº¤å½“å‰çš„ä»£ç ï¼Œä»¥é˜²æ„å¤–å‘ç”Ÿã€‚
*   **API Key å®‰å…¨**: è¯·å‹¿å°†ä½ çš„ `apikey` ç¡¬ç¼–ç å¹¶æäº¤åˆ°å…¬å…±ä»“åº“ã€‚æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆå¦‚ `dotenv` åº“ï¼‰æ¥ç®¡ç†æ•æ„Ÿä¿¡æ¯ã€‚
*   **åŠ¨æ€å­—ç¬¦ä¸²**: å·¥å…·æ— æ³•å¤„ç†ç”±å˜é‡æ‹¼æ¥è€Œæˆçš„åŠ¨æ€å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ `` `ä½ å¥½ï¼Œ${name}` ``ã€‚è¿™ç±»æ–‡æœ¬ä»éœ€æ‰‹åŠ¨å¤„ç†ã€‚
*   **é‡å¤æ‰§è¡Œ**: å·¥å…·åœ¨è®¾è®¡ä¸Šæ˜¯å¹‚ç­‰çš„ã€‚é‡å¤æ‰§è¡Œæ—¶ï¼Œå®ƒä¼šè·³è¿‡å·²ç»æ›¿æ¢ä¸º `$t()` çš„æ–‡æœ¬ï¼Œå¹¶ä»…å¤„ç†æ–°å¢çš„ä¸­æ–‡æ–‡æ¡ˆï¼Œå°†å…¶è¿½åŠ åˆ°ç°æœ‰çš„è¯­è¨€åŒ…ä¸­ã€‚

## è´¡çŒ®

æ¬¢è¿æäº¤ PR å’Œ Issueï¼Œä¸ºæ”¹è¿› `vue-i18n-translate` è´¡çŒ®ä½ çš„åŠ›é‡ï¼

## License

[MIT](./LICENSE)